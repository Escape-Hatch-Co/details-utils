<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="">
		<title></title>
		<style>
		/* Important CSS */
		details-utils:not(:defined) [data-du-close-click] {
			display: none;
		}

		/* Demo CSS */
		* {
			box-sizing: border-box;
		}
		details {
			border: 1px solid #ddd;
		}
		summary {
			padding: .5em;
		}

		.demo-content {
			border: 3px solid;
			padding: 1em;
			background-color: #ddd;
			overflow: hidden; /* Important for animations */
		}

		/* Document Class Toggle (modal style) */
		html.demo-no-overflow {
			/* You can qualify this in a media query, too */
			overflow: hidden;
		}
		details-utils[toggle-document-class]:defined .demo-modal-content {
			position: fixed;
			left: 0;
			top: 0;
			right: 0;
			bottom: 0;
			overflow: auto;
			background-color: rgba(255,255,255,.95);
		}
		</style>
	</head>
	<body>
		<h1><code>&lt;details-utils&gt;</code></h1>
		<p>To use, wrap one (or more!) <code>&lt;details&gt;</code> elements in our  <code>&lt;details-utils&gt;</code> web component. Mix and match these utilities as needed:</p>
		<ul>
			<li><a href="#click-out">Click outside to close</a></li>
			<li><a href="#animate">Animate open and close</a></li>
			<li><a href="#force">Force State</a></li>
			<li><a href="#esc">Close by <code>esc</code> key</a></li>
			<li><a href="#document-class-toggle">Document Class Toggle</a></li>
		</ul>

		<h2 id="click-out">Click outside to close</h2>
		<details-utils close-click-outside>
			<details>
				<summary>Toggle Menu</summary>
				<div class="demo-content">
					<p>Note that interacting with content inside of the menu works without closing the menu. Like this <label>sample text input <input type="text"></label></p>
				</div>
			</details>
		</details-utils>

		<h3>Use a close button inside of the content.</h3>
		<details-utils close-click-outside>
			<details>
				<summary>Toggle Menu</summary>
				<div class="demo-content">
					<p>Note that interacting with content inside of the menu works without closing the menu.</p>
					<button type="button" data-du-close-click>Close</button>
				</div>
			</details>
		</details-utils>

		<h2 id="animate">Animate Open and Close</h2>
		<details-utils animate>
			<p>This attribute is ignored if <code>(prefers-reduced-motion)</code> preference is detected.</p>
			<details>
				<summary>Toggle Menu</summary>
				<div class="demo-content">
					<p>This is the content.</p>
					<p>This is the content.</p>
					<p>This is the content.</p>
					<p>This is the content.</p>
					<p>This is the content.</p>
					<p>This is the content.</p>
					<p>This is the content.</p>
					<p>This is the content.</p>
					<p>This is the content.</p>
				</div>
			</details>
		</details-utils>

		<h2 id="force-state">Force State</h2>
		<h3>Force State based on JavaScript availability</h3>

		<p>Open without JavaScript, closed with JavaScript:</p>
		<details-utils force-closed>
			<details open>
				<summary>Toggle Menu</summary>
				<div class="demo-content">
					<p>This is the content.</p>
				</div>
			</details>
		</details-utils>

		<p>Closed without JavaScript, open with JavaScript:</p>
		<details-utils force-closed="(max-width: 0px)">
			<details>
				<summary>Toggle Menu</summary>
				<div class="demo-content">
					<p>This is the content.</p>
				</div>
			</details>
		</details-utils>

		<h3>Force State based on Viewport size</h3>
		<p>Resize your viewport to see state change.</p>
		<details-utils force-closed="(max-width: 767px)">
			<p>Closed at &lt; 767px, open at &gt; 768px.</p>
			<details>
				<summary>Toggle Menu</summary>
				<div class="demo-content">
					<p>This is the content.</p>
				</div>
			</details>
		</details-utils>

		<h2 id="esc">Close by <code>esc</code> Key</h2>
		<details-utils close-esc>
			<details>
				<summary>Toggle Menu</summary>
				<div class="demo-content">
					<p>This is the content.</p>
				</div>
			</details>
		</details-utils>

		<h3>Close by <code>esc</code> based on Viewport size</h3>
		<details-utils close-esc="(max-width: 767px)">
			<p><code>close-esc="(max-width: 767px)"</code> will only close when viewport is smaller than 767px.</p>
			<details>
				<summary>Toggle Menu</summary>
				<div class="demo-content">
					<p>This is the content.</p>
				</div>
			</details>
		</details-utils>

		<h2 id="document-class-toggle">Toggle Document Class</h2>
		<details-utils toggle-document-class="demo-no-overflow" close-click-outside close-esc>
			<p>Use this to disable <code>overflow: hidden</code> on the document. Styling to make the content take up the entire viewport is up to you. Definitely pair this with the <code>close-esc</code> utility. In this demo, modal styles require JavaScript (this is not mandatory).</p>
			<details>
				<summary class="demo-modal-summary">Toggle Menu</summary>
				<div class="demo-content demo-modal-content">
					<button type="button" data-du-close-click>Close</button>
					<p>If your viewport is smaller than this modal, it will overflow internally!</p>
					<p>This is the content.</p>
					<p>This is the content.</p>
					<p>This is the content.</p>
					<p>This is the content.</p>
					<p>This is the content.</p>
					<p>This is the content.</p>
					<p>This is the content.</p>
					<p>This is the content.</p>
					<p>This is the content.</p>
					<p>This is the content.</p>
					<p>This is the content.</p>
					<p>This is the content.</p>
					<p>This is the content.</p>
					<p>This is the content.</p>
				</div>
			</details>
		</details-utils>

		<script type="module" src="details-utils.js"></script>
	</body>
</html>